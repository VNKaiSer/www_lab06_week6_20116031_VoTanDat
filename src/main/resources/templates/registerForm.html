<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="/fragments/head :: head"></head>
<body>

<div th:replace="/fragments/header :: header"></div>

<div class="container" th:class="align-center">

    <h2>Register new user</h2>

    <form th:action="@{/signup}" method="post" onsubmit="return validateForm()">
        <div th:if="${error}" class="text-danger" role="alert">
            <p th:text="${error}"></p>
        </div>

        <div>
            <label>
                <input type="text" id="username" name="username" placeholder="Username" required/>
            </label>
        </div>
        <div>
            <label>
                <input type="tel" id="mobile" name="mobile" placeholder="Mobile" required/>
            </label>
        </div>
        <div>
            <label>
                <input type="email" id="email" name="email" placeholder="Email" required/>
            </label>
        </div>
        <div>
            <label>
                <input type="password" id="password" name="password" placeholder="Password" required/>
            </label>
        </div>
        <div>
            <label>
                <input type="password" id="Repassword" name="Repassword" placeholder="Repeat Password"/>
            </label>
        </div>
        <div>
            <button class="green-btn" type="submit">Register</button>
        </div>
    </form>
</div>

<footer th:replace="/fragments/footer :: footer"></footer>

<script>
    function validateForm() {
        // Get values from form fields
        var username = document.getElementById('username').value;
        var mobile = document.getElementById('mobile').value;
        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;
        var repassword = document.getElementById('Repassword').value;

        if (username === '' || mobile === '' || email === '' || password === '' || repassword === '') {
            alert('All fields must be filled out');
            return false;
        }

        if (password !== repassword) {
            alert('Passwords do not match');
            return false;
        }


        return true;
    }
</script>

</body>
</html>
